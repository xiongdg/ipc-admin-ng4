<div class="bread-crumb">
  <nz-breadcrumb>
    <nz-breadcrumb-item> <a href="">Home</a> </nz-breadcrumb-item>
    <nz-breadcrumb-item> <a routerLink="/dev-list">设备列表</a> </nz-breadcrumb-item>
    <nz-breadcrumb-item> 新增设备 </nz-breadcrumb-item>
  </nz-breadcrumb>
</div>
<div nz-row>
  <h2 style="text-align:center;margin-top:20px;">新增设备</h2>
  <form nz-form [formGroup]="validateForm" class="login-form" (ngSubmit)="add();validateForm.reset()" nz-col [nzSpan]="12"
    [nzOffset]="6">
    <div nz-form-item nz-row>
      <div nz-form-label nz-col [nzSpan]="7">
        <label nz-form-item-required>设备型号</label>
      </div>
      <div nz-form-control [nzValidateStatus]="validateForm.controls.devTypeId" nz-col [nzSpan]="17">
        <nz-select formControlName="devTypeId" [nzPlaceHolder]="'devTypeId'" nzAllowClear>
          <nz-option *ngFor="let option of devTypeListOptions" [nzLabel]="option.typeName" [nzValue]="option.devTypeId" [nzDisabled]="option.disabled">
          </nz-option>
        </nz-select>
        <div nz-form-explain *ngIf="validateForm.controls.devTypeId.dirty&&validateForm.controls.devTypeId.hasError('required')">Please input your devTypeId!</div>
      </div>
    </div>
    <div nz-form-item nz-row>
      <div nz-form-label nz-col [nzSpan]="7">
        <label nz-form-item-required>设备状态</label>
      </div>
      <div nz-form-control [nzValidateStatus]="validateForm.controls.devStatus" nz-col [nzSpan]="17">
        <nz-select formControlName="devStatus" [nzPlaceHolder]="'devStatus'" nzAllowClear>
          <nz-option *ngFor="let option of devStatusOptions" [nzLabel]="option.label" [nzValue]="option.value" [nzDisabled]="option.disabled">
          </nz-option>
        </nz-select>
        <div nz-form-explain *ngIf="validateForm.controls.devStatus.dirty&&validateForm.controls.devStatus.hasError('required')">Please input your devStatus!</div>
      </div>
    </div>
    <div nz-form-item nz-row>
      <div nz-form-label nz-col [nzSpan]="7">
        <label nz-form-item-required>设备序列号</label>
      </div>
      <div nz-form-control [nzValidateStatus]="validateForm.controls.seriesNumber" nz-col [nzSpan]="17">
        <nz-input formControlName="seriesNumber" [nzPlaceHolder]="'seriesNumber'" [nzSize]="'default'"></nz-input>
        <div nz-form-explain *ngIf="validateForm.controls.seriesNumber.dirty&&validateForm.controls.seriesNumber.hasError('required')">Please input your seriesNumber!</div>
      </div>
    </div>
    <div nz-form-item nz-row>
      <div nz-form-label nz-col [nzSpan]="7">
        <label nz-form-item-required>设备secret</label>
      </div>
      <div nz-form-control [nzValidateStatus]="validateForm.controls.clientSecret" nz-col [nzSpan]="17">
        <nz-input formControlName="clientSecret" [nzPlaceHolder]="'clientSecret'" [nzSize]="'default'"></nz-input>
        <div nz-form-explain *ngIf="validateForm.controls.clientSecret.dirty&&validateForm.controls.clientSecret.hasError('required')">Please input your clientSecret!</div>
      </div>
    </div>

    <div nz-form-item nz-row>
      <div nz-form-label nz-col [nzSpan]="7">
        <label>设备cid</label>
      </div>
      <div nz-form-control [nzValidateStatus]="validateForm.controls.cid" nz-col [nzSpan]="17">
        <nz-input formControlName="cid" [nzPlaceHolder]="'cid'" [nzSize]="'default'"></nz-input>
      </div>
    </div>

    <div nz-form-item nz-row>
      <div nz-form-label nz-col [nzSpan]="7">
        <label nz-form-item-required>出厂日期</label>
      </div>
      <div nz-form-control [nzValidateStatus]="validateForm.controls._regDate" nz-col [nzSpan]="17">
        <nz-datepicker style="width:100%;" formControlName="_regDate" [nzSize]="'default'">
        </nz-datepicker>
      </div>
    </div>
    <div nz-form-item nz-row>
      <div nz-form-label nz-col [nzSpan]="7">
        <label nz-form-item-required>p2p服务商</label>
      </div>
      <div nz-form-control [nzValidateStatus]="validateForm.controls.initStreamPk" nz-col [nzSpan]="17">
        <nz-select formControlName="initStreamPk" [nzPlaceHolder]="'initStreamPk'" nzAllowClear>
          <nz-option *ngFor="let option of p2pProOptions" [nzLabel]="option.proName" [nzValue]="option.initStreamPk" [nzDisabled]="option.disabled">
          </nz-option>
        </nz-select>
        <div nz-form-explain *ngIf="validateForm.controls.initStreamPk.dirty&&validateForm.controls.initStreamPk.hasError('required')">Please input your initStreamPk!</div>
      </div>
    </div>
    <div nz-form-item nz-row>
      <div nz-form-label nz-col [nzSpan]="7">
        <label>p2pID</label>
      </div>
      <div nz-form-control [nzValidateStatus]="validateForm.controls.p2pID" nz-col [nzSpan]="17">
        <nz-input formControlName="p2pID" [nzPlaceHolder]="'p2pID'" [nzSize]="'default'"></nz-input>
      </div>
    </div>
    <div nz-form-item nz-row>
      <div nz-form-label nz-col [nzSpan]="7">
        <label>p2pSecret</label>
      </div>
      <div nz-form-control [nzValidateStatus]="validateForm.controls.p2pSecret" nz-col [nzSpan]="17">
        <nz-input formControlName="p2pSecret" [nzPlaceHolder]="'p2pSecret'" [nzSize]="'default'"></nz-input>
      </div>
    </div>
    <div nz-form-item nz-row>
      <div nz-form-control nz-col [nzOffset]="7">
        <button nz-button class="login-form-button" [disabled]="!validateForm.valid || !active" [nzType]="'primary'" [nzSize]="'default'"
          style="width:100%">{{ btnText }}</button>
      </div>
    </div>
  </form>
</div>