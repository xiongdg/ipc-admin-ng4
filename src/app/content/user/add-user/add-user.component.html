<div class="bread-crumb">
  <nz-breadcrumb>
    <nz-breadcrumb-item>
      <a href="">Home</a>
    </nz-breadcrumb-item>
    <nz-breadcrumb-item>
      <a routerLink="/user-list">用户列表</a>
    </nz-breadcrumb-item>
    <nz-breadcrumb-item> 新增用户 </nz-breadcrumb-item>
  </nz-breadcrumb>
</div>

<div nz-row>
  <h2 style="text-align:center;margin-top:20px;">新增用户</h2>
  <form nz-form [formGroup]="validateForm" class="login-form" (ngSubmit)="add();validateForm.reset()" nz-col [nzSpan]="12"
    [nzOffset]="6">
    <div nz-form-item nz-row>
      <div nz-form-label nz-col [nzSpan]="7">
        <label nz-form-item-required>用户昵称</label>
      </div>
      <div nz-form-control [nzValidateStatus]="validateForm.controls.userName" nz-col [nzSpan]="17">
        <nz-input formControlName="userName" [nzPlaceHolder]="'以字母或下划线开头，长度5-20'" [nzSize]="'default'" (blur)="con()"></nz-input>
        <button (click)="hei()" type="button">click</button>
        <div nz-form-explain *ngIf="validateForm.controls.userName.dirty&&(!!validateForm.controls.userName.errors&&!!validateForm.controls.userName.errors.minlength)">用户昵长度要求5-20!</div>
        <div nz-form-explain *ngIf="validateForm.controls.userName.dirty&&validateForm.controls.userName.hasError('required')">用户昵称为必填项!</div>
        <div nz-form-explain *ngIf="validateForm.controls.userName.dirty&&(!!validateForm.controls.userName.errors&&!!validateForm.controls.userName.errors.maxlength)">用户昵长度要求5-20!</div>
      </div>
    </div>
    <div nz-form-item nz-row>
      <div nz-form-label nz-col [nzSpan]="7">
        <label nz-form-item-required>用户密码</label>
      </div>
      <div nz-form-control [nzValidateStatus]="validateForm.controls.password" nz-col [nzSpan]="17">
        <nz-input formControlName="password" [nzPlaceHolder]="'长度必须在10-20之间,可由字母数字下划线组成'" [nzSize]="'default'"></nz-input>
        <div nz-form-explain *ngIf="validateForm.controls.password.dirty&&(!!validateForm.controls.password.errors&&!!validateForm.controls.password.errors.minlength)">密码长度要求10-20!</div>
        <div nz-form-explain *ngIf="validateForm.controls.password.dirty&&validateForm.controls.password.hasError('required')">用户密码为必填项!</div>
        <div nz-form-explain *ngIf="validateForm.controls.password.dirty&&(!!validateForm.controls.password.errors&&!!validateForm.controls.password.errors.maxlength)">用户昵长度要求5-20!</div>
      </div>
    </div>

    <div nz-form-item nz-row>
      <div nz-form-label nz-col [nzSpan]="7">
        <label>手机</label>
      </div>
      <div nz-form-control [nzValidateStatus]="validateForm.controls.mobile" nz-col [nzSpan]="17">
        <nz-input formControlName="mobile" [nzPlaceHolder]="'mobile'" [nzSize]="'default'"></nz-input>
        <div nz-form-explain *ngIf="validateForm.controls.mobile.dirty&&validateForm.controls.mobile.hasError('required')">Please input your mobile!</div>
      </div>
    </div>
    <div nz-form-item nz-row>
      <div nz-form-label nz-col [nzSpan]="7">
        <label>邮箱</label>
      </div>
      <div nz-form-control [nzValidateStatus]="validateForm.controls.email" nz-col [nzSpan]="17">
        <nz-input formControlName="email" [nzPlaceHolder]="'email'" [nzSize]="'default'"></nz-input>
      </div>
    </div>
    <div nz-form-item nz-row>
      <div nz-form-label nz-col [nzSpan]="7">
        <label>用户状态</label>
      </div>
      <div nz-form-control [nzValidateStatus]="validateForm.controls.userNameStatus" nz-col [nzSpan]="17">
        <nz-select formControlName="userNameStatus" [nzPlaceHolder]="'userNameStatus'" nzAllowClear>
          <nz-option *ngFor="let option of Options" [nzLabel]="option.label" [nzValue]="option.value" [nzDisabled]="option.disabled">
          </nz-option>
        </nz-select>
        <div nz-form-explain *ngIf="validateForm.controls.userNameStatus.dirty&&validateForm.controls.userNameStatus.hasError('required')">Please input your userNameStatus!</div>
      </div>
    </div>

    <div nz-form-item nz-row>
      <div nz-form-control nz-col [nzOffset]="7">
        <button nz-button class="login-form-button" [disabled]="!validateForm.valid" [nzType]="'primary'" [nzSize]="'default'" [nzLoading]="isLoading"
          style="width:100%">{{ btnText }}</button>
      </div>
    </div>
  </form>
</div>